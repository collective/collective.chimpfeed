<div tal:define="start request/start|options/start|context/start|nothing;
                 until request/until|options/until|context/until|nothing;
                 field request/image|options/image|context/image|nothing;
                 scale request/scale|options/scale|context/scale|nothing;
                 filtering request/filtering|options/filtering|context/filtering|nothing;"
     tal:repeat="group python: view.getGroups(start, until)">
  <tal:group define="name python: group[0];
                     items python: group[1]">
    <tal:filtering condition="filtering">
    *|INTERESTED:<span tal:replace="name" />|*
    </tal:filtering>
    <h2 tal:content="python: name.rsplit(':', 1)[0]" />
    <table tal:define="plone_view context/@@plone;
                       toLocalizedTime python: plone_view.toLocalizedTime">
      <tr tal:repeat="item items">
        <tal:block define="obj item/getObject;
                           url obj/absolute_url;
                           has_image python: []">
          <tal:image define="scales obj/@@images;
                             scale python: scales.scale(field, scale=scale);
                             dummy python: has_image.append(True)"
                     on-error="nothing">
            <td style="vertical-align: top"
                tal:attributes="width string:${scale/width}px"
                tal:content="structure scale/tag" />
          </tal:image>
          <td style="vertical-align: top"
              tal:attributes="colspan python: not any(has_image) and '2' or None">
            <span class="category"
                  tal:define="category item/feedCategory|nothing"
                  tal:condition="category"
                  tal:content="string:${category} |"
                  />
            <span tal:content="python: toLocalizedTime(item.Date, long_format=False)" />
            <a tal:attributes="href url">
              <h3 tal:content="item/Title" />
            </a>
            <p tal:content="item/Description" />
          </td>
        </tal:block>
      </tr>
    </table>
    <tal:filtering condition="filtering">
    *|END:INTERESTED|*
    </tal:filtering>
  </tal:group>
</div>
